<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>canvas 运动</title>
<style>
*{margin:0; padding:0;}
body{background:#000; text-align:center;}
canvas{background:#fff;}
</style>
<script>
window.onload=function(){
	var oC = document.getElementById('c1');
	var gd = oC.getContext('2d');
	
	var oImg = new Image();

	oImg.src = 'pic2476.png';

	oImg.onload=function(){
		var x = 0;
		var x2 = 100;
		var y=0;
		gd.clearRect(0,0,oC.width,oC.height);
					gd.drawImage(
						oImg,
						(x+=32)%128,49,32,48,
						x2+=-5,y,64,96
					);
		document.onkeydown=function(ev){
			var oEvent=ev||event;
			//clearInterval(times);
		//setInterval(function (){
			if(oEvent.keyCode==37){
				//setTimeout(function (){
					gd.clearRect(0,0,oC.width,oC.height);
					gd.drawImage(
						oImg,
						(x+=32)%128,49,32,48,
						x2+=-5,y,64,96
					);
				//},1000);
			}
			if(oEvent.keyCode==38){
				gd.clearRect(0,0,oC.width,oC.height);
					gd.drawImage(
						oImg,
						(x+=32)%128,145,32,48,
						x2,y+=-5,64,96
				);
			}
			if(oEvent.keyCode==39){
				gd.clearRect(0,0,oC.width,oC.height);
					gd.drawImage(
						oImg,
						(x+=32)%128,96,32,48,
						x2+=5,y,64,96
				);
			}
			if(oEvent.keyCode==40){
				gd.clearRect(0,0,oC.width,oC.height);
					gd.drawImage(
						oImg,
						(x+=32)%128,2,32,48,
						x2,y+=5,64,96
				);
			}
		//},300);

		}


	var str = '方向键控制移动';
	gd.font = '50px 微软雅黑';
	gd.textAlign = 'center';
	gd.textBaseline = 'middle';
	gd.strokeText(str,oC.width/2,oC.height/2);
		
		
	
	};


};


</script>
</head>

<body>
<canvas id="c1" width="800" height="600"></canvas>
</body>
</html>














