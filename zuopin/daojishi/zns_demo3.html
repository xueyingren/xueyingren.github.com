<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style/zns_style.css" rel="stylesheet" type="text/css" /></head>
<script>
function toDou(iNum){
	return iNum<10?'0'+iNum:''+iNum;
}
window.onload=function (){
	var oFill=document.getElementById('fill_in');
	var aFull=oFill.getElementsByTagName('input')[0];
	var aMonth=oFill.getElementsByTagName('input')[1];
	var aDate=oFill.getElementsByTagName('input')[2];
	var oGo=document.getElementById('go');
	var oTarget=document.getElementById('target');
	var oDateBox=document.getElementById('date');
	var timer=null;
	
	oGo.onclick=function (){
		clearInterval(timer);
		var y=aFull.value;
		var m=aMonth.value;
		var d=aDate.value;
		oTarget.innerHTML='现在距离 - <strong>'+y+'年'+toDou(m)+'月'+toDou(d)+'日</strong>- 还剩：';
		
		var oDate=new Date();
		oDate.setFullYear(y,m-1,d);
		oDate.setHours(10,22,0,0);
		var iTarget=oDate.getTime();		//时间戳
		
		countDown();
		function countDown(){
			var oDate=new Date();
			var s=parseInt((iTarget-oDate.getTime())/1000);
			var D=parseInt(s/86400);
			s%=86400;
			var H=parseInt(s/3600);
			s%=3600;
			var M=parseInt(s/60);
			s%=60;
			if(s<0){
				clearInterval(timer);
				alert('时间到了');
				s=0;
			}
			oDateBox.innerHTML='<p id="day">'+D+'</p><p id="hour">'+toDou(H)+'</p><p id="min">'+toDou(M)+'</p><p id="sec">'+toDou(s)+'</p>';
			
		}
		timer=setInterval(countDown,1000);
	};
};
</script>
<body>

<div id="zhinengshe">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="2016" />
        <span class="space1">年</span>
        <input type="text" class="text" value="6" />
        <span class="space2">月</span>
        <input type="text" class="text" value="10" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>

    <p id="target">
        现在距离 -
        <strong>2016年6月10日</strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">00</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>
</div>

</body>
</html>
